#!/bin/bash
# Claude ê¸°ë°˜ íŠ¹ì • ì•± ìƒíƒœ ì¡°íšŒ
# ì‚¬ìš©ë²•: ./scripts/claude-app-status.sh "ì•±ì´ë¦„"
# ì˜ˆì‹œ: ./scripts/claude-app-status.sh "ë¼í¬ ë§µ"

set -e

APP_NAME="$1"

if [ -z "$APP_NAME" ]; then
    echo "âŒ ì‚¬ìš©ë²•: $0 \"ì•±ì´ë¦„\""
    echo ""
    echo "ì˜ˆì‹œ:"
    echo "  $0 \"ë¼í¬ ë§µ\""
    echo "  $0 \"ë‘ ë²ˆ ì•Œë¦¼\""
    echo ""
    echo "ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ ì•± ëª©ë¡:"
    ls apps/ | sed 's/.json//' | sed 's/-/ /g' | awk '{for(i=1;i<=NF;i++) $i=toupper(substr($i,1,1)) tolower(substr($i,2)); print "  -", $0}'
    exit 1
fi

echo "ğŸ“± $APP_NAME ìƒíƒœ ì¡°íšŒ ì¤‘..."
echo ""

claude << EOF
"$APP_NAME" ì•±ì˜ ìƒì„¸ ìƒíƒœë¥¼ ë³´ê³ í•´ì¤˜:

1. apps/ í´ë”ì—ì„œ í•´ë‹¹ ì•±ì˜ JSON íŒŒì¼ ì°¾ê¸°
2. ë‹¤ìŒ ì •ë³´ë¥¼ ë³´ê¸° ì¢‹ê²Œ ì •ë¦¬:
   - ê¸°ë³¸ ì •ë³´ (í˜„ì¬ ë²„ì „, ìƒíƒœ, ìš°ì„ ìˆœìœ„)
   - ì§„í–‰ í˜„í™© (ì „ì²´/ì™„ë£Œ/ì§„í–‰ì¤‘/ëŒ€ê¸° íƒœìŠ¤í¬ ìˆ˜)
   - ë‹¤ìŒ í•  ì¼ ëª©ë¡ (nextTasks)
   - ìµœê·¼ ì™„ë£Œ ì‘ì—… (recentlyCompleted)
   - ì§„í–‰ ì¤‘ì¸ íƒœìŠ¤í¬ ìƒì„¸ (targetDate, targetVersion í¬í•¨)

3. ê°„ë‹¨í•œ ë¶„ì„:
   - í˜„ì¬ ì§„í–‰ ìƒí™© í‰ê°€
   - ë‹¤ìŒ ì•¡ì…˜ ì•„ì´í…œ ì œì•ˆ
   - ì£¼ì˜ê°€ í•„ìš”í•œ ë¶€ë¶„

ê°„ê²°í•˜ê³  ì‹¤ìš©ì ìœ¼ë¡œ ì •ë¦¬í•´ì¤˜.
EOF

echo ""
echo "âœ… ì¡°íšŒ ì™„ë£Œ!"
